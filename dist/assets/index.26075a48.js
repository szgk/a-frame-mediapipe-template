const Cn=function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))U(S);new MutationObserver(S=>{for(const F of S)if(F.type==="childList")for(const q of F.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&U(q)}).observe(document,{childList:!0,subtree:!0});function L(S){const F={};return S.integrity&&(F.integrity=S.integrity),S.referrerpolicy&&(F.referrerPolicy=S.referrerpolicy),S.crossorigin==="use-credentials"?F.credentials="include":S.crossorigin==="anonymous"?F.credentials="omit":F.credentials="same-origin",F}function U(S){if(S.ep)return;S.ep=!0;const F=L(S);fetch(S.href,F)}};Cn();var at=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Rn={};(function(){var A;function _(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var L=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};function U(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof at=="object"&&at];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var S=U(this);function F(t,e){if(e)t:{var n=S;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&e!=null&&L(n,t,{configurable:!0,writable:!0,value:e})}}F("Symbol",function(t){function e(u){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new n(r+(u||"")+"_"+i++,u)}function n(u,o){this.g=u,L(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;n.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),F("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=S[e[n]];typeof r=="function"&&typeof r.prototype[t]!="function"&&L(r.prototype,t,{configurable:!0,writable:!0,value:function(){return q(_(this))}})}return t});function q(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function I(t){var e=typeof Symbol!="undefined"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:_(t)}}function ut(t){if(!(t instanceof Array)){t=I(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}var ht=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},st;if(typeof Object.setPrototypeOf=="function")st=Object.setPrototypeOf;else{var gt;t:{var pt={a:!0},nt={};try{nt.__proto__=pt,gt=nt.a;break t}catch{}gt=!1}st=gt?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var vt=st;function z(t,e){if(t.prototype=ht(e.prototype),t.prototype.constructor=t,vt)vt(t,e);else for(var n in e)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.ra=e.prototype}function dt(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function yt(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}dt.prototype.s=function(t){this.h=t};function mt(t,e){t.j={fa:e,ga:!0},t.g=t.o||t.u}dt.prototype.return=function(t){this.j={return:t},this.g=this.u};function C(t,e,n){return t.g=n,{value:e}}function wt(t){this.g=new dt,this.h=t}function Gt(t,e){yt(t.g);var n=t.g.i;return n?bt(t,"return"in n?n.return:function(r){return{value:r,done:!0}},e,t.g.return):(t.g.return(e),J(t))}function bt(t,e,n,r){try{var i=e.call(t.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.l=!1,i;var u=i.value}catch(o){return t.g.i=null,mt(t.g,o),J(t)}return t.g.i=null,r.call(t.g,u),J(t)}function J(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.l=!1,{value:e.value,done:!1}}catch(n){t.g.h=void 0,mt(t.g,n)}if(t.g.l=!1,t.g.j){if(e=t.g.j,t.g.j=null,e.ga)throw e.fa;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function V(t){this.next=function(e){return yt(t.g),t.g.i?e=bt(t,t.g.i.next,e,t.g.s):(t.g.s(e),e=J(t)),e},this.throw=function(e){return yt(t.g),t.g.i?e=bt(t,t.g.i.throw,e,t.g.s):(mt(t.g,e),e=J(t)),e},this.return=function(e){return Gt(t,e)},this[Symbol.iterator]=function(){return this}}function tt(t){function e(r){return t.next(r)}function n(r){return t.throw(r)}return new Promise(function(r,i){function u(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(u,i)}u(t.next())})}function s(t){return tt(new V(new wt(t)))}F("Promise",function(t){function e(o){this.h=0,this.i=void 0,this.g=[],this.s=!1;var c=this.j();try{o(c.resolve,c.reject)}catch(f){c.reject(f)}}function n(){this.g=null}function r(o){return o instanceof e?o:new e(function(c){c(o)})}if(t)return t;n.prototype.h=function(o){if(this.g==null){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(o)};var i=S.setTimeout;n.prototype.i=function(o){i(o,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var o=this.g;this.g=[];for(var c=0;c<o.length;++c){var f=o[c];o[c]=null;try{f()}catch(a){this.j(a)}}}this.g=null},n.prototype.j=function(o){this.i(function(){throw o})},e.prototype.j=function(){function o(a){return function(g){f||(f=!0,a.call(c,g))}}var c=this,f=!1;return{resolve:o(this.D),reject:o(this.l)}},e.prototype.D=function(o){if(o===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.H(o);else{t:switch(typeof o){case"object":var c=o!=null;break t;case"function":c=!0;break t;default:c=!1}c?this.A(o):this.o(o)}},e.prototype.A=function(o){var c=void 0;try{c=o.then}catch(f){this.l(f);return}typeof c=="function"?this.I(c,o):this.o(o)},e.prototype.l=function(o){this.u(2,o)},e.prototype.o=function(o){this.u(1,o)},e.prototype.u=function(o,c){if(this.h!=0)throw Error("Cannot settle("+o+", "+c+"): Promise already settled in state"+this.h);this.h=o,this.i=c,this.h===2&&this.G(),this.B()},e.prototype.G=function(){var o=this;i(function(){if(o.C()){var c=S.console;typeof c!="undefined"&&c.error(o.i)}},1)},e.prototype.C=function(){if(this.s)return!1;var o=S.CustomEvent,c=S.Event,f=S.dispatchEvent;return typeof f=="undefined"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof c=="function"?o=new c("unhandledrejection",{cancelable:!0}):(o=S.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.i,f(o))},e.prototype.B=function(){if(this.g!=null){for(var o=0;o<this.g.length;++o)u.h(this.g[o]);this.g=null}};var u=new n;return e.prototype.H=function(o){var c=this.j();o.M(c.resolve,c.reject)},e.prototype.I=function(o,c){var f=this.j();try{o.call(c,f.resolve,f.reject)}catch(a){f.reject(a)}},e.prototype.then=function(o,c){function f(y,p){return typeof y=="function"?function(w){try{a(y(w))}catch(j){g(j)}}:p}var a,g,b=new e(function(y,p){a=y,g=p});return this.M(f(o,a),f(c,g)),b},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.M=function(o,c){function f(){switch(a.h){case 1:o(a.i);break;case 2:c(a.i);break;default:throw Error("Unexpected state: "+a.h)}}var a=this;this.g==null?u.h(f):this.g.push(f),this.s=!0},e.resolve=r,e.reject=function(o){return new e(function(c,f){f(o)})},e.race=function(o){return new e(function(c,f){for(var a=I(o),g=a.next();!g.done;g=a.next())r(g.value).M(c,f)})},e.all=function(o){var c=I(o),f=c.next();return f.done?r([]):new e(function(a,g){function b(w){return function(j){y[w]=j,p--,p==0&&a(y)}}var y=[],p=0;do y.push(void 0),p++,r(f.value).M(b(y.length-1),g),f=c.next();while(!f.done)})},e});function l(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var u=n++;return{value:e(u,t[u]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}var d=typeof Object.assign=="function"?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};F("Object.assign",function(t){return t||d}),F("Object.is",function(t){return t||function(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}}),F("Array.prototype.includes",function(t){return t||function(e,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var u=r[n];if(u===e||Object.is(u,e))return!0}return!1}}),F("String.prototype.includes",function(t){return t||function(e,n){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,n||0)!==-1}}),F("Array.prototype.keys",function(t){return t||function(){return l(this,function(e){return e})}});var m=this||self;function E(t,e){t=t.split(".");var n=m;t[0]in n||typeof n.execScript=="undefined"||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)t.length||e===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=e}function P(){throw Error("Invalid UTF8")}function h(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var v,x=typeof TextDecoder!="undefined",M,H=typeof TextEncoder!="undefined",ct={},D=null;function Z(t){var e;e===void 0&&(e=0),qt(),e=ct[e];for(var n=Array(Math.floor(t.length/3)),r=e[64]||"",i=0,u=0;i<t.length-2;i+=3){var o=t[i],c=t[i+1],f=t[i+2],a=e[o>>2];o=e[(o&3)<<4|c>>4],c=e[(c&15)<<2|f>>6],f=e[f&63],n[u++]=a+o+c+f}switch(a=0,f=r,t.length-i){case 2:a=t[i+1],f=e[(a&15)<<2]||r;case 1:t=t[i],n[u]=e[t>>2]+e[(t&3)<<4|a>>4]+f+r}return n.join("")}function ft(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);var r=new Uint8Array(n),i=0;return jt(t,function(u){r[i++]=u}),i!==n?r.subarray(0,i):r}function jt(t,e){function n(f){for(;r<t.length;){var a=t.charAt(r++),g=D[a];if(g!=null)return g;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return f}qt();for(var r=0;;){var i=n(-1),u=n(0),o=n(64),c=n(64);if(c===64&&i===-1)break;e(i<<2|u>>4),o!=64&&(e(u<<4&240|o>>2),c!=64&&e(o<<6&192|c))}}function qt(){if(!D){D={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=t.concat(e[n].split(""));ct[n]=r;for(var i=0;i<r.length;i++){var u=r[i];D[u]===void 0&&(D[u]=i)}}}}var te=typeof Uint8Array=="function";function Wt(t){return te&&t!=null&&t instanceof Uint8Array}var Ct;function ee(t){if(this.L=t,t!==null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}var ze=typeof Uint8Array.prototype.slice=="function",et=0,rt=0;function Ze(t,e){if(t.constructor===Uint8Array)return t;if(t.constructor===ArrayBuffer)return new Uint8Array(t);if(t.constructor===Array)return new Uint8Array(t);if(t.constructor===String)return ft(t);if(t.constructor===ee)return!e&&(e=t.L)&&e.constructor===Uint8Array?e:(e=t.L,e=e==null||Wt(e)?e:typeof e=="string"?ft(e):null,(t=t.L=e)?new Uint8Array(t):Ct||(Ct=new Uint8Array(0)));if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function ne(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function Ht(){return Error("Failed to read varint, encoding is invalid.")}function re(t,e){e=e===void 0?{}:e,e=e.v===void 0?!1:e.v,this.h=null,this.g=this.i=this.j=0,this.v=e,t&&Vt(this,t)}function Vt(t,e){t.h=Ze(e,t.v),t.j=0,t.i=t.h.length,t.g=t.j}re.prototype.reset=function(){this.g=this.j};function G(t){if(t.g>t.i)throw Error("Tried to read past the end of the data "+t.g+" > "+t.i)}function At(t){var e=t.h,n=e[t.g],r=n&127;if(128>n)return t.g+=1,G(t),r;if(n=e[t.g+1],r|=(n&127)<<7,128>n)return t.g+=2,G(t),r;if(n=e[t.g+2],r|=(n&127)<<14,128>n)return t.g+=3,G(t),r;if(n=e[t.g+3],r|=(n&127)<<21,128>n)return t.g+=4,G(t),r;if(n=e[t.g+4],t.g+=5,r|=(n&15)<<28,128>n)return G(t),r;if(128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++])throw Ht();return G(t),r}var ie=[];function Xt(){this.g=[]}Xt.prototype.length=function(){return this.g.length},Xt.prototype.end=function(){var t=this.g;return this.g=[],t};function ot(t,e){for(;127<e;)t.g.push(e&127|128),e>>>=7;t.g.push(e)}function oe(t){var e={},n=e.W===void 0?!1:e.W;this.l={v:e.v===void 0?!1:e.v},this.W=n,e=this.l,ie.length?(n=ie.pop(),e&&(n.v=e.v),t&&Vt(n,t),t=n):t=new re(t,e),this.g=t,this.j=this.g.g,this.h=this.i=-1}oe.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function ue(t){var e=t.g;if(e.g==e.i)return!1;t.j=t.g.g;var n=At(t.g)>>>0;if(e=n>>>3,n&=7,!(0<=n&&5>=n))throw ne(n,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.i=e,t.h=n,!0}function Rt(t){switch(t.h){case 0:if(t.h!=0)Rt(t);else t:{t=t.g;for(var e=t.g,n=e+10;e<n;)if((t.h[e++]&128)===0){t.g=e,G(t);break t}throw Ht()}break;case 1:t=t.g,t.g+=8,G(t);break;case 2:t.h!=2?Rt(t):(e=At(t.g)>>>0,t=t.g,t.g+=e,G(t));break;case 5:t=t.g,t.g+=4,G(t);break;case 3:e=t.i;do{if(!ue(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.i!=e)throw Error("Unmatched end-group tag");break}Rt(t)}while(1);break;default:throw ne(t.h,t.j)}}var Ut=[];function Qe(){this.i=[],this.h=0,this.g=new Xt}function lt(t,e){e.length!==0&&(t.i.push(e),t.h+=e.length)}function qe(t,e){if(e=e.ca){lt(t,t.g.end());for(var n=0;n<e.length;n++)lt(t,e[n])}}var Pt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function se(t,e){Object.isFrozen(t)||(Pt?t[Pt]|=e:t.N!==void 0?t.N|=e:Object.defineProperties(t,{N:{value:e,configurable:!0,writable:!0,enumerable:!1}}))}function ce(t){var e;return Pt?e=t[Pt]:e=t.N,e==null?0:e}function xt(t){return se(t,1),t}function Ot(t){return Array.isArray(t)?!!(ce(t)&2):!1}function Yt(t){if(!Array.isArray(t))throw Error("cannot mark non-array as immutable");se(t,2)}function fe(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var Mt=Object.freeze(xt([]));function le(t){if(Ot(t.m))throw Error("Cannot mutate an immutable Message")}var ae=typeof Symbol!="undefined"&&typeof Symbol.hasInstance!="undefined";function he(t){return{value:t,configurable:!1,writable:!1,enumerable:!1}}function K(t,e,n){return e===-1?null:e>=t.i?t.g?t.g[e]:void 0:(n===void 0?0:n)&&t.g&&(n=t.g[e],n!=null)?n:t.m[e+t.h]}function k(t,e,n,r){r=r===void 0?!1:r,le(t),e<t.i&&!r?t.m[e+t.h]=n:(t.g||(t.g=t.m[t.i+t.h]={}))[e]=n}function ge(t,e,n,r){n=n===void 0?!0:n,r=r===void 0?!1:r;var i=K(t,e,r);return i==null&&(i=Mt),Ot(t.m)?n&&(Yt(i),Object.freeze(i)):(i===Mt||Ot(i))&&(i=xt(i.slice()),k(t,e,i,r)),i}function Q(t,e,n){return t=K(t,e),t=t==null?t:+t,t==null?n===void 0?0:n:t}function St(t,e,n,r){t.j||(t.j={});var i=Ot(t.m),u=t.j[n];if(!u){r=ge(t,n,!0,r===void 0?!1:r),u=[],i=i||Ot(r);for(var o=0;o<r.length;o++)u[o]=new e(r[o]),i&&Yt(u[o].m);i&&(Yt(u),Object.freeze(u)),t.j[n]=u}return u}function pe(t,e,n,r,i){var u=u===void 0?!1:u;return le(t),u=St(t,n,e,u),n=r||new n,t=ge(t,e),i!=null?(u.splice(i,0,n),t.splice(i,0,n.m)):(u.push(n),t.push(n.m)),n}function ve(t,e){return t=K(t,e),t==null?0:t}function de(t,e){return t=K(t,e),t==null?"":t}function tn(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t&&!Array.isArray(t)){if(Wt(t))return Z(t);if(t instanceof ee){var e=t.L;return e=e==null||typeof e=="string"?e:te&&e instanceof Uint8Array?Z(e):null,(t.L=e)||""}}}return t}function ye(t){var e=en;return e=e===void 0?nn:e,we(t,e)}function me(t,e){if(t!=null){if(Array.isArray(t))t=we(t,e);else if(fe(t)){var n={},r;for(r in t)n[r]=me(t[r],e);t=n}else t=e(t);return t}}function we(t,e){for(var n=t.slice(),r=0;r<n.length;r++)n[r]=me(n[r],e);return Array.isArray(t)&&ce(t)&1&&xt(n),n}function en(t){return t&&typeof t=="object"&&t.toJSON?t.toJSON():(t=tn(t),Array.isArray(t)?ye(t):t)}function nn(t){return Wt(t)?new Uint8Array(t):t}function Lt(t,e,n){t||(t=be),be=null;var r=this.constructor.h;t||(t=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=t;t:{if(r=this.m.length,t=r-1,r&&(r=this.m[t],fe(r))){this.i=t-this.h,this.g=r;break t}e!==void 0&&-1<e?(this.i=Math.max(e,t+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(n)for(e=0;e<n.length;e++)if(t=n[e],t<this.i)t+=this.h,(r=this.m[t])?Array.isArray(r)&&xt(r):this.m[t]=Mt;else{r=this.g||(this.g=this.m[this.i+this.h]={});var i=r[t];i?Array.isArray(i)&&xt(i):r[t]=Mt}}Lt.prototype.toJSON=function(){return ye(this.m)},Lt.prototype.toString=function(){return this.m.toString()};var be;function kt(){Lt.apply(this,arguments)}if(z(kt,Lt),ae){var je={};Object.defineProperties(kt,(je[Symbol.hasInstance]=he(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),je))}function Ae(t,e,n){if(n){var r={},i;for(i in n){var u=n[i],o=u.ja;o||(r.F=u.pa||u.ha.P,u.ba?(r.U=Ee(u.ba),o=function(c){return function(f,a,g){return c.F(f,a,g,c.U)}}(r)):u.da?(r.T=_e(u.X.g,u.da),o=function(c){return function(f,a,g){return c.F(f,a,g,c.T)}}(r)):o=r.F,u.ja=o),o(e,t,u.X),r={F:r.F,U:r.U,T:r.T}}}qe(e,t)}var Bt=Symbol();function xe(t,e,n){return t[Bt]||(t[Bt]=function(r,i){return e(r,i,n)})}function Oe(t){var e=t[Bt];if(!e){var n=Re(t);e=function(r,i){return Ue(r,i,n)},t[Bt]=e}return e}function rn(t){var e=t.ba;if(e)return Oe(e);if(e=t.oa)return xe(t.X.g,e,t.da)}function on(t){var e=rn(t),n=t.X,r=t.ha.O;return e?function(i,u){return r(i,u,n,e)}:function(i,u){return r(i,u,n)}}function Se(t,e,n,r,i,u){t=t();var o=0;for(t.length&&typeof t[0]!="number"&&(n(e,t[0]),o++);o<t.length;){n=t[o++];for(var c=o+1;c<t.length&&typeof t[c]!="number";)c++;var f=t[o++];switch(c-=o,c){case 0:r(e,n,f);break;case 1:r(e,n,f,t[o++]);break;case 2:i(e,n,f,t[o++],t[o++]);break;case 3:c=t[o++];var a=t[o++],g=t[o++];Array.isArray(g)?i(e,n,f,c,a,g):u(e,n,f,c,a,g);break;case 4:u(e,n,f,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+c)}}return e}var It=Symbol();function Ee(t){var e=t[It];if(!e){var n=Te(t);e=function(r,i){return Pe(r,i,n)},t[It]=e}return e}function _e(t,e){var n=t[It];return n||(n=function(r,i){return Ae(r,i,e)},t[It]=n),n}var Fe=Symbol();function un(t,e){t.push(e)}function sn(t,e,n){t.push(e,n.P)}function cn(t,e,n,r,i){var u=Ee(i),o=n.P;t.push(e,function(c,f,a){return o(c,f,a,r,u)})}function fn(t,e,n,r,i,u){var o=_e(r,u),c=n.P;t.push(e,function(f,a,g){return c(f,a,g,r,o)})}function Te(t){var e=t[Fe];return e||Se(t,t[Fe]=[],un,sn,cn,fn)}var Ce=Symbol();function ln(t,e){t[0]=e}function an(t,e,n,r){var i=n.O;t[e]=r?function(u,o,c){return i(u,o,c,r)}:i}function hn(t,e,n,r,i,u){var o=n.O,c=Oe(i);t[e]=function(f,a,g){return o(f,a,g,r,c,u)}}function gn(t,e,n,r,i,u,o){var c=n.O,f=xe(r,i,u);t[e]=function(a,g,b){return c(a,g,b,r,f,o)}}function Re(t){var e=t[Ce];return e||Se(t,t[Ce]={},ln,an,hn,gn)}function Ue(t,e,n){for(;ue(e)&&e.h!=4;){var r=e.i,i=n[r];if(!i){var u=n[0];u&&(u=u[r])&&(i=n[r]=on(u))}if((!i||!i(e,t,r))&&(i=e,r=t,u=i.j,Rt(i),!i.W)){var o=i.g.h;i=i.g.g,i=u===i?Ct||(Ct=new Uint8Array(0)):ze?o.slice(u,i):new Uint8Array(o.subarray(u,i)),(u=r.ca)?u.push(i):r.ca=[i]}}return t}function Et(t,e,n){if(Ut.length){var r=Ut.pop();t&&(Vt(r.g,t),r.i=-1,r.h=-1),t=r}else t=new oe(t);try{return Ue(new e,t,Re(n))}finally{e=t.g,e.h=null,e.j=0,e.i=0,e.g=0,e.v=!1,t.i=-1,t.h=-1,100>Ut.length&&Ut.push(t)}}function Pe(t,e,n){for(var r=n.length,i=r%2==1,u=i?1:0;u<r;u+=2)(0,n[u+1])(e,t,n[u]);Ae(t,e,i?n[0]:void 0)}function Jt(t,e){var n=new Qe;Pe(t,n,Te(e)),lt(n,n.g.end()),t=new Uint8Array(n.h),e=n.i;for(var r=e.length,i=0,u=0;u<r;u++){var o=e[u];t.set(o,i),i+=o.length}return n.i=[t],t}function _t(t,e){return{O:t,P:e}}var $=_t(function(t,e,n){if(t.h!==5)return!1;t=t.g;var r=t.h[t.g],i=t.h[t.g+1],u=t.h[t.g+2],o=t.h[t.g+3];return t.g+=4,G(t),i=(r<<0|i<<8|u<<16|o<<24)>>>0,t=2*(i>>31)+1,r=i>>>23&255,i&=8388607,k(e,n,r==255?i?NaN:1/0*t:r==0?t*Math.pow(2,-149)*i:t*Math.pow(2,r-150)*(i+Math.pow(2,23))),!0},function(t,e,n){if(e=K(e,n),e!=null){ot(t.g,8*n+5),t=t.g;var r=e;r=(n=0>r?1:0)?-r:r,r===0?0<1/r?et=rt=0:(rt=0,et=2147483648):isNaN(r)?(rt=0,et=2147483647):34028234663852886e22<r?(rt=0,et=(n<<31|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),rt=0,et=(n<<31|r)>>>0):(e=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-e),r=Math.round(8388608*r),16777216<=r&&++e,rt=0,et=(n<<31|e+127<<23|r&8388607)>>>0),n=et,t.g.push(n>>>0&255),t.g.push(n>>>8&255),t.g.push(n>>>16&255),t.g.push(n>>>24&255)}}),pn=_t(function(t,e,n){if(t.h!==0)return!1;for(var r=t.g,i=128,u=0,o=t=0;4>o&&128<=i;o++)i=r.h[r.g++],G(r),u|=(i&127)<<7*o;if(128<=i&&(i=r.h[r.g++],G(r),u|=(i&127)<<28,t|=(i&127)>>4),128<=i)for(o=0;5>o&&128<=i;o++)i=r.h[r.g++],G(r),t|=(i&127)<<7*o+3;if(128>i)r=u>>>0,i=t>>>0,(t=i&2147483648)&&(r=~r+1>>>0,i=~i>>>0,r==0&&(i=i+1>>>0)),r=4294967296*i+(r>>>0);else throw Ht();return k(e,n,t?-r:r),!0},function(t,e,n){if(e=K(e,n),e!=null&&e!=null){ot(t.g,8*n),t=t.g;var r=e;for(n=0>r,r=Math.abs(r),e=r>>>0,r=Math.floor((r-e)/4294967296),r>>>=0,n&&(r=~r>>>0,e=(~e>>>0)+1,4294967295<e&&(e=0,r++,4294967295<r&&(r=0))),et=e,rt=r,n=et,e=rt;0<e||127<n;)t.g.push(n&127|128),n=(n>>>7|e<<25)>>>0,e>>>=7;t.g.push(n)}}),vn=_t(function(t,e,n){return t.h!==0?!1:(k(e,n,At(t.g)),!0)},function(t,e,n){if(e=K(e,n),e!=null&&e!=null)if(ot(t.g,8*n),t=t.g,n=e,0<=n)ot(t,n);else{for(e=0;9>e;e++)t.g.push(n&127|128),n>>=7;t.g.push(1)}}),Me=_t(function(t,e,n){if(t.h!==2)return!1;var r=At(t.g)>>>0;t=t.g;var i=t.g;t.g+=r,G(t),t=t.h;var u;if(x)(u=v)||(u=v=new TextDecoder("utf-8",{fatal:!0})),u=u.decode(t.subarray(i,i+r));else{r=i+r;for(var o=[],c=null,f,a,g;i<r;)f=t[i++],128>f?o.push(f):224>f?i>=r?P():(a=t[i++],194>f||(a&192)!==128?(i--,P()):o.push((f&31)<<6|a&63)):240>f?i>=r-1?P():(a=t[i++],(a&192)!==128||f===224&&160>a||f===237&&160<=a||((u=t[i++])&192)!==128?(i--,P()):o.push((f&15)<<12|(a&63)<<6|u&63)):244>=f?i>=r-2?P():(a=t[i++],(a&192)!==128||(f<<28)+(a-144)>>30!==0||((u=t[i++])&192)!==128||((g=t[i++])&192)!==128?(i--,P()):(f=(f&7)<<18|(a&63)<<12|(u&63)<<6|g&63,f-=65536,o.push((f>>10&1023)+55296,(f&1023)+56320))):P(),8192<=o.length&&(c=h(c,o),o.length=0);u=h(c,o)}return k(e,n,u),!0},function(t,e,n){if(e=K(e,n),e!=null){var r=!1;if(r=r===void 0?!1:r,H){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(M||(M=new TextEncoder)).encode(e)}else{for(var i=0,u=new Uint8Array(3*e.length),o=0;o<e.length;o++){var c=e.charCodeAt(o);if(128>c)u[i++]=c;else{if(2048>c)u[i++]=c>>6|192;else{if(55296<=c&&57343>=c){if(56319>=c&&o<e.length){var f=e.charCodeAt(++o);if(56320<=f&&57343>=f){c=1024*(c-55296)+f-56320+65536,u[i++]=c>>18|240,u[i++]=c>>12&63|128,u[i++]=c>>6&63|128,u[i++]=c&63|128;continue}else o--}if(r)throw Error("Found an unpaired surrogate");c=65533}u[i++]=c>>12|224,u[i++]=c>>6&63|128}u[i++]=c&63|128}}e=u.subarray(0,i)}ot(t.g,8*n+2),ot(t.g,e.length),lt(t,t.g.end()),lt(t,e)}}),Le=_t(function(t,e,n,r,i){if(t.h!==2)return!1;e=pe(e,n,r),n=t.g.i,r=At(t.g)>>>0;var u=t.g.g+r,o=u-n;if(0>=o&&(t.g.i=u,i(e,t),o=u-t.g.g),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(r+" bytes, instead read "+(r-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.g.g=u,t.g.i=n,!0},function(t,e,n,r,i){if(e=St(e,r,n),e!=null)for(r=0;r<e.length;r++){var u=t;ot(u.g,8*n+2);var o=u.g.end();lt(u,o),o.push(u.h),u=o,i(e[r],t),o=t;var c=u.pop();for(c=o.h+o.g.length()-c;127<c;)u.push(c&127|128),c>>>=7,o.h++;u.push(c),o.h++}});function X(){kt.apply(this,arguments)}if(z(X,kt),ae){var ke={};Object.defineProperties(X,(ke[Symbol.hasInstance]=he(Object[Symbol.hasInstance]),ke))}function Ft(t){X.call(this,t)}z(Ft,X);function Be(){return[1,vn,2,$,3,Me,4,Me]}function Nt(t){X.call(this,t,-1,dn)}z(Nt,X),Nt.prototype.addClassification=function(t,e){return pe(this,1,Ft,t,e),this};function Ie(){return[1,Le,Ft,Be]}var dn=[1];function Tt(t){X.call(this,t)}z(Tt,X);function Ne(){return[1,$,2,$,3,$,4,$,5,$]}function Kt(t){X.call(this,t,-1,yn)}z(Kt,X);function De(){return[1,Le,Tt,Ne]}var yn=[1];function $t(t){X.call(this,t)}z($t,X);function Ge(){return[1,$,2,$,3,$,4,$,5,$,6,pn]}function We(t,e,n){if(n=t.createShader(n===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(n));return n}function He(t){return St(t,Ft,1).map(function(e){return{index:ve(e,1),score:Q(e,2),label:K(e,3)!=null?de(e,3):void 0,displayName:K(e,4)!=null?de(e,4):void 0}})}function Ve(t){return{x:Q(t,1),y:Q(t,2),z:Q(t,3),visibility:K(t,4)!=null?Q(t,4):void 0}}function Xe(t){return t.map(function(e){return St(Et(e,Kt,De),Tt,1).map(Ve)})}function zt(t,e){this.h=t,this.g=e,this.l=0}function Ye(t,e,n){return mn(t,e),typeof t.g.canvas.transferToImageBitmap=="function"?Promise.resolve(t.g.canvas.transferToImageBitmap()):n?Promise.resolve(t.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.g.canvas):(t.i===void 0&&(t.i=document.createElement("canvas")),new Promise(function(r){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),r(t.i)}))}function mn(t,e){var n=t.g;if(t.o===void 0){var r=We(n,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=We(n,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),u=n.createProgram();if(n.attachShader(u,r),n.attachShader(u,i),n.linkProgram(u),!n.getProgramParameter(u,n.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+n.getProgramInfoLog(u));r=t.o=u,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),t.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),qa:i},t.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.enableVertexAttribArray(t.j.K),n.vertexAttribPointer(t.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),t.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.s),n.enableVertexAttribArray(t.j.J),n.vertexAttribPointer(t.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=t.j,n.useProgram(t.o),n.canvas.width=e.width,n.canvas.height=e.height,n.viewport(0,0,e.width,e.height),n.activeTexture(n.TEXTURE0),t.h.bindTexture2d(e.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,t.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),t.h.bindTexture2d(0)}function wn(t){this.g=t}var bn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function jn(t,e){return e+t}function Je(t,e){window[t]=e}function An(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(n){e.addEventListener("load",function(){n()},!1),e.addEventListener("error",function(){n()},!1),document.body.appendChild(e)})}function xn(){return s(function(t){switch(t.g){case 1:return t.o=2,C(t,WebAssembly.instantiate(bn),4);case 4:t.g=3,t.o=0;break;case 2:return t.o=0,t.j=null,t.return(!1);case 3:return t.return(!0)}})}function Zt(t){if(this.g=t,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=Promise.resolve(),this.Z="",this.C={},this.locateFile=t&&t.locateFile||jn,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location!="undefined")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.aa=e,t.options){e=I(Object.keys(t.options));for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.options[n].default;r!==void 0&&(this.j[n]=typeof r=="function"?r():r)}}}A=Zt.prototype,A.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function On(t){var e,n,r,i,u,o,c,f,a,g,b;return s(function(y){switch(y.g){case 1:return t.$?(e=t.g.files===void 0?[]:typeof t.g.files=="function"?t.g.files(t.j):t.g.files,C(y,xn(),2)):y.return();case 2:if(n=y.h,typeof window=="object")return Je("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Je("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(p){return p.data!==void 0}),c=e.filter(function(p){return p.data===void 0}),f=Promise.all(o.map(function(p){var w=Dt(t,p.url);if(p.path!==void 0){var j=p.path;w=w.then(function(R){return t.overrideFile(j,R),Promise.resolve(R)})}return w})),a=Promise.all(c.map(function(p){return p.simd===void 0||p.simd&&n||!p.simd&&!n?An(t.locateFile(p.url,t.aa)):Promise.resolve()})).then(function(){var p,w,j;return s(function(R){if(R.g==1)return p=window.createMediapipeSolutionsWasm,w=window.createMediapipeSolutionsPackedAssets,j=t,C(R,p(w),2);j.h=R.h,R.g=0})}),g=function(){return s(function(p){return t.g.graph&&t.g.graph.url?p=C(p,Dt(t,t.g.graph.url),0):(p.g=0,p=void 0),p})}(),C(y,Promise.all([a,f,g]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return r=e.filter(function(p){return p.simd===void 0||p.simd&&n||!p.simd&&!n}).map(function(p){return t.locateFile(p.url,t.aa)}),importScripts.apply(null,ut(r)),i=t,C(y,createMediapipeSolutionsWasm(Module),6);case 6:i.h=y.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,u=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext!="undefined"?2:1}),t.h.GL.makeContextCurrent(u),y.g=4;break;case 7:if(t.l=document.createElement("canvas"),b=t.l.getContext("webgl2",{}),!b&&(b=t.l.getContext("webgl",{}),!b))return alert("Failed to create WebGL canvas context when passing video frame."),y.return();t.G=b,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.$=!1,y.g=0}})}function Sn(t){var e,n,r,i,u,o,c,f;return s(function(a){if(a.g==1){if(t.g.graph&&t.g.graph.url&&t.Z===t.g.graph.url)return a.return();if(t.s=!0,!t.g.graph||!t.g.graph.url){a.g=2;return}return t.Z=t.g.graph.url,C(a,Dt(t,t.g.graph.url),3)}for(a.g!=2&&(e=a.h,t.i.loadGraph(e)),n=I(Object.keys(t.C)),r=n.next();!r.done;r=n.next())i=r.value,t.i.overrideFile(i,t.C[i]);if(t.C={},t.g.listeners)for(u=I(t.g.listeners),o=u.next();!o.done;o=u.next())c=o.value,Tn(t,c);f=t.j,t.j={},t.setOptions(f),a.g=0})}A.reset=function(){var t=this;return s(function(e){t.i&&(t.i.reset(),t.o={},t.u={}),e.g=0})},A.setOptions=function(t,e){var n=this;if(e=e||this.g.options){for(var r=[],i=[],u={},o=I(Object.keys(t)),c=o.next();!c.done;u={R:u.R,S:u.S},c=o.next()){var f=c.value;f in this.j&&this.j[f]===t[f]||(this.j[f]=t[f],c=e[f],c!==void 0&&(c.onChange&&(u.R=c.onChange,u.S=t[f],r.push(function(a){return function(){var g;return s(function(b){if(b.g==1)return C(b,a.R(a.S),2);g=b.h,g===!0&&(n.s=!0),b.g=0})}}(u))),c.graphOptionXref&&(f={valueNumber:c.type===1?t[f]:0,valueBoolean:c.type===0?t[f]:!1,valueString:c.type===2?t[f]:""},c=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),c.graphOptionXref),f),i.push(c))))}(r.length!==0||i.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(i),this.A=(this.A===void 0?[]:this.A).concat(r))}};function En(t){var e,n,r,i,u,o,c;return s(function(f){switch(f.g){case 1:if(!t.s)return f.return();if(!t.A){f.g=2;break}e=I(t.A),n=e.next();case 3:if(n.done){f.g=5;break}return r=n.value,C(f,r(),4);case 4:n=e.next(),f.g=3;break;case 5:t.A=void 0;case 2:if(t.B){for(i=new t.h.GraphOptionChangeRequestList,u=I(t.B),o=u.next();!o.done;o=u.next())c=o.value,i.push_back(c);t.i.changeOptions(i),i.delete(),t.B=void 0}t.s=!1,f.g=0}})}A.initialize=function(){var t=this;return s(function(e){return e.g==1?C(e,On(t),2):e.g!=3?C(e,Sn(t),3):C(e,En(t),0)})};function Dt(t,e){var n,r;return s(function(i){return e in t.H?i.return(t.H[e]):(n=t.locateFile(e,""),r=fetch(n).then(function(u){return u.arrayBuffer()}),t.H[e]=r,i.return(r))})}A.overrideFile=function(t,e){this.i?this.i.overrideFile(t,e):this.C[t]=e},A.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},A.send=function(t,e){var n=this,r,i,u,o,c,f,a,g,b;return s(function(y){switch(y.g){case 1:return n.g.inputs?(r=1e3*(e==null?performance.now():e),C(y,n.D,2)):y.return();case 2:return C(y,n.initialize(),3);case 3:for(i=new n.h.PacketDataList,u=I(Object.keys(t)),o=u.next();!o.done;o=u.next())if(c=o.value,f=n.g.inputs[c]){t:{var p=t[c];switch(f.type){case"video":var w=n.o[f.stream];if(w||(w=new zt(n.h,n.G),n.o[f.stream]=w),w.l===0&&(w.l=w.h.createTexture()),typeof HTMLVideoElement!="undefined"&&p instanceof HTMLVideoElement)var j=p.videoWidth,R=p.videoHeight;else typeof HTMLImageElement!="undefined"&&p instanceof HTMLImageElement?(j=p.naturalWidth,R=p.naturalHeight):(j=p.width,R=p.height);R={glName:w.l,width:j,height:R},j=w.g,j.canvas.width=R.width,j.canvas.height=R.height,j.activeTexture(j.TEXTURE0),w.h.bindTexture2d(w.l),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,p),w.h.bindTexture2d(0),w=R;break t;case"detections":for(w=n.o[f.stream],w||(w=new wn(n.h),n.o[f.stream]=w),w.data||(w.data=new w.g.DetectionListData),w.data.reset(p.length),R=0;R<p.length;++R){j=p[R];var T=w.data,N=T.setBoundingBox,Y=R,W=j.ea,O=new $t;if(k(O,1,W.ka),k(O,2,W.la),k(O,3,W.height),k(O,4,W.width),k(O,5,W.rotation),k(O,6,W.ia),W=Jt(O,Ge),N.call(T,Y,W),j.Y)for(T=0;T<j.Y.length;++T){O=j.Y[T];var B=!!O.visibility;N=w.data,Y=N.addNormalizedLandmark,W=R,O=Object.assign(Object.assign({},O),{visibility:B?O.visibility:0}),B=new Tt,k(B,1,O.x),k(B,2,O.y),k(B,3,O.z),O.visibility&&k(B,4,O.visibility),O=Jt(B,Ne),Y.call(N,W,O)}if(j.V)for(T=0;T<j.V.length;++T)N=w.data,Y=N.addClassification,W=R,O=j.V[T],B=new Ft,k(B,2,O.score),O.index&&k(B,1,O.index),O.label&&k(B,3,O.label),O.displayName&&k(B,4,O.displayName),O=Jt(B,Be),Y.call(N,W,O)}w=w.data;break t;default:w={}}}switch(a=w,g=f.stream,f.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},a),{stream:g,timestamp:r}));break;case"detections":b=a,b.stream=g,b.timestamp=r,i.pushDetectionList(b);break;default:throw Error("Unknown input config type: '"+f.type+"'")}}return n.i.send(i),C(y,n.D,4);case 4:i.delete(),y.g=0}})};function _n(t,e,n){var r,i,u,o,c,f,a,g,b,y,p,w,j,R;return s(function(T){switch(T.g){case 1:if(!n)return T.return(e);for(r={},i=0,u=I(Object.keys(n)),o=u.next();!o.done;o=u.next())c=o.value,f=n[c],typeof f!="string"&&f.type==="texture"&&e[f.stream]!==void 0&&++i;1<i&&(t.I=!1),a=I(Object.keys(n)),o=a.next();case 2:if(o.done){T.g=4;break}if(g=o.value,b=n[g],typeof b=="string")return j=r,R=g,C(T,Fn(t,g,e[b]),14);if(y=e[b.stream],b.type==="detection_list"){if(y){for(var N=y.getRectList(),Y=y.getLandmarksList(),W=y.getClassificationsList(),O=[],B=0;B<N.size();++B){var it=Et(N.get(B),$t,Ge);it={ea:{ka:Q(it,1),la:Q(it,2),height:Q(it,3),width:Q(it,4),rotation:Q(it,5,0),ia:ve(it,6)},Y:St(Et(Y.get(B),Kt,De),Tt,1).map(Ve),V:He(Et(W.get(B),Nt,Ie))},O.push(it)}N=O}else N=[];r[g]=N,T.g=7;break}if(b.type==="proto_list"){if(y){for(N=Array(y.size()),Y=0;Y<y.size();Y++)N[Y]=y.get(Y);y.delete()}else N=[];r[g]=N,T.g=7;break}if(y===void 0){T.g=3;break}if(b.type==="float_list"){r[g]=y,T.g=7;break}if(b.type==="proto"){r[g]=y,T.g=7;break}if(b.type!=="texture")throw Error("Unknown output config type: '"+b.type+"'");return p=t.u[g],p||(p=new zt(t.h,t.G),t.u[g]=p),C(T,Ye(p,y,t.I),13);case 13:w=T.h,r[g]=w;case 7:b.transform&&r[g]&&(r[g]=b.transform(r[g])),T.g=3;break;case 14:j[R]=T.h;case 3:o=a.next(),T.g=2;break;case 4:return T.return(r)}})}function Fn(t,e,n){var r;return s(function(i){return typeof n=="number"||n instanceof Uint8Array||n instanceof t.h.Uint8BlobList?i.return(n):n instanceof t.h.Texture2dDataOut?(r=t.u[e],r||(r=new zt(t.h,t.G),t.u[e]=r),i.return(Ye(r,n,t.I))):i.return(void 0)})}function Tn(t,e){for(var n=e.name||"$",r=[].concat(ut(e.wants)),i=new t.h.StringList,u=I(e.wants),o=u.next();!o.done;o=u.next())i.push_back(o.value);u=t.h.PacketListener.implement({onResults:function(c){for(var f={},a=0;a<e.wants.length;++a)f[r[a]]=c.get(a);var g=t.listeners[n];g&&(t.D=_n(t,f,e.outs).then(function(b){b=g(b);for(var y=0;y<e.wants.length;++y){var p=f[r[y]];typeof p=="object"&&p.hasOwnProperty&&p.hasOwnProperty("delete")&&p.delete()}b&&(t.D=b)}))}}),t.i.attachMultiListener(i,u),i.delete()}A.onResults=function(t,e){this.listeners[e||"$"]=t},E("Solution",Zt),E("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ke(t){return t===void 0&&(t=0),t===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function $e(t){var e=this;t=t||{},this.g=new Zt({locateFile:t.locateFile,files:function(n){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Ke(n.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Xe},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Xe},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(n){return n.map(function(r){return He(Et(r,Nt,Ie))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(n){var r,i,u;return s(function(o){return o.g==1?(r=Ke(n),i="third_party/mediapipe/modules/hand_landmark/"+r,C(o,Dt(e.g,r),2)):(u=o.h,e.g.overrideFile(i,u),o.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}A=$e.prototype,A.close=function(){return this.g.close(),Promise.resolve()},A.onResults=function(t){this.g.onResults(t)},A.initialize=function(){var t=this;return s(function(e){return C(e,t.g.initialize(),0)})},A.reset=function(){this.g.reset()},A.send=function(t){var e=this;return s(function(n){return C(n,e.g.send(t),0)})},A.setOptions=function(t){this.g.setOptions(t)},E("Hands",$e),E("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),E("VERSION","0.4.1646424915")}).call(at);var Un={};(function(){function A(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}var _=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){return s==Array.prototype||s==Object.prototype||(s[l]=d.value),s};function L(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof at=="object"&&at];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var U=L(this);function S(s,l){if(l)t:{var d=U;s=s.split(".");for(var m=0;m<s.length-1;m++){var E=s[m];if(!(E in d))break t;d=d[E]}s=s[s.length-1],m=d[s],l=l(m),l!=m&&l!=null&&_(d,s,{configurable:!0,writable:!0,value:l})}}S("Symbol",function(s){function l(P){if(this instanceof l)throw new TypeError("Symbol is not a constructor");return new d(m+(P||"")+"_"+E++,P)}function d(P,h){this.g=P,_(this,"description",{configurable:!0,writable:!0,value:h})}if(s)return s;d.prototype.toString=function(){return this.g};var m="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",E=0;return l}),S("Symbol.iterator",function(s){if(s)return s;s=Symbol("Symbol.iterator");for(var l="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<l.length;d++){var m=U[l[d]];typeof m=="function"&&typeof m.prototype[s]!="function"&&_(m.prototype,s,{configurable:!0,writable:!0,value:function(){return F(A(this))}})}return s});function F(s){return s={next:s},s[Symbol.iterator]=function(){return this},s}function q(s){var l=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:A(s)}}function I(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function ut(s){if(s.i)throw new TypeError("Generator is already running");s.i=!0}I.prototype.l=function(s){this.o=s};function ht(s,l){s.h={F:l,G:!0},s.j=s.m}I.prototype.return=function(s){this.h={return:s},this.j=this.m};function st(s){this.g=new I,this.h=s}function gt(s,l){ut(s.g);var d=s.g.g;return d?pt(s,"return"in d?d.return:function(m){return{value:m,done:!0}},l,s.g.return):(s.g.return(l),nt(s))}function pt(s,l,d,m){try{var E=l.call(s.g.g,d);if(!(E instanceof Object))throw new TypeError("Iterator result "+E+" is not an object");if(!E.done)return s.g.i=!1,E;var P=E.value}catch(h){return s.g.g=null,ht(s.g,h),nt(s)}return s.g.g=null,m.call(s.g,P),nt(s)}function nt(s){for(;s.g.j;)try{var l=s.h(s.g);if(l)return s.g.i=!1,{value:l.value,done:!1}}catch(d){s.g.o=void 0,ht(s.g,d)}if(s.g.i=!1,s.g.h){if(l=s.g.h,s.g.h=null,l.G)throw l.F;return{value:l.return,done:!0}}return{value:void 0,done:!0}}function vt(s){this.next=function(l){return ut(s.g),s.g.g?l=pt(s,s.g.g.next,l,s.g.l):(s.g.l(l),l=nt(s)),l},this.throw=function(l){return ut(s.g),s.g.g?l=pt(s,s.g.g.throw,l,s.g.l):(ht(s.g,l),l=nt(s)),l},this.return=function(l){return gt(s,l)},this[Symbol.iterator]=function(){return this}}function z(s){function l(m){return s.next(m)}function d(m){return s.throw(m)}return new Promise(function(m,E){function P(h){h.done?m(h.value):Promise.resolve(h.value).then(l,d).then(P,E)}P(s.next())})}S("Promise",function(s){function l(h){this.h=0,this.i=void 0,this.g=[],this.o=!1;var v=this.j();try{h(v.resolve,v.reject)}catch(x){v.reject(x)}}function d(){this.g=null}function m(h){return h instanceof l?h:new l(function(v){v(h)})}if(s)return s;d.prototype.h=function(h){if(this.g==null){this.g=[];var v=this;this.i(function(){v.l()})}this.g.push(h)};var E=U.setTimeout;d.prototype.i=function(h){E(h,0)},d.prototype.l=function(){for(;this.g&&this.g.length;){var h=this.g;this.g=[];for(var v=0;v<h.length;++v){var x=h[v];h[v]=null;try{x()}catch(M){this.j(M)}}}this.g=null},d.prototype.j=function(h){this.i(function(){throw h})},l.prototype.j=function(){function h(M){return function(H){x||(x=!0,M.call(v,H))}}var v=this,x=!1;return{resolve:h(this.A),reject:h(this.l)}},l.prototype.A=function(h){if(h===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof l)this.C(h);else{t:switch(typeof h){case"object":var v=h!=null;break t;case"function":v=!0;break t;default:v=!1}v?this.v(h):this.m(h)}},l.prototype.v=function(h){var v=void 0;try{v=h.then}catch(x){this.l(x);return}typeof v=="function"?this.D(v,h):this.m(h)},l.prototype.l=function(h){this.u(2,h)},l.prototype.m=function(h){this.u(1,h)},l.prototype.u=function(h,v){if(this.h!=0)throw Error("Cannot settle("+h+", "+v+"): Promise already settled in state"+this.h);this.h=h,this.i=v,this.h===2&&this.B(),this.H()},l.prototype.B=function(){var h=this;E(function(){if(h.I()){var v=U.console;typeof v!="undefined"&&v.error(h.i)}},1)},l.prototype.I=function(){if(this.o)return!1;var h=U.CustomEvent,v=U.Event,x=U.dispatchEvent;return typeof x=="undefined"?!0:(typeof h=="function"?h=new h("unhandledrejection",{cancelable:!0}):typeof v=="function"?h=new v("unhandledrejection",{cancelable:!0}):(h=U.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h)),h.promise=this,h.reason=this.i,x(h))},l.prototype.H=function(){if(this.g!=null){for(var h=0;h<this.g.length;++h)P.h(this.g[h]);this.g=null}};var P=new d;return l.prototype.C=function(h){var v=this.j();h.s(v.resolve,v.reject)},l.prototype.D=function(h,v){var x=this.j();try{h.call(v,x.resolve,x.reject)}catch(M){x.reject(M)}},l.prototype.then=function(h,v){function x(D,Z){return typeof D=="function"?function(ft){try{M(D(ft))}catch(jt){H(jt)}}:Z}var M,H,ct=new l(function(D,Z){M=D,H=Z});return this.s(x(h,M),x(v,H)),ct},l.prototype.catch=function(h){return this.then(void 0,h)},l.prototype.s=function(h,v){function x(){switch(M.h){case 1:h(M.i);break;case 2:v(M.i);break;default:throw Error("Unexpected state: "+M.h)}}var M=this;this.g==null?P.h(x):this.g.push(x),this.o=!0},l.resolve=m,l.reject=function(h){return new l(function(v,x){x(h)})},l.race=function(h){return new l(function(v,x){for(var M=q(h),H=M.next();!H.done;H=M.next())m(H.value).s(v,x)})},l.all=function(h){var v=q(h),x=v.next();return x.done?m([]):new l(function(M,H){function ct(ft){return function(jt){D[ft]=jt,Z--,Z==0&&M(D)}}var D=[],Z=0;do D.push(void 0),Z++,m(x.value).s(ct(D.length-1),H),x=v.next();while(!x.done)})},l});var dt=typeof Object.assign=="function"?Object.assign:function(s,l){for(var d=1;d<arguments.length;d++){var m=arguments[d];if(m)for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(s[E]=m[E])}return s};S("Object.assign",function(s){return s||dt});var yt=this||self,mt={facingMode:"user",width:640,height:480};function C(s,l){this.video=s,this.i=0,this.h=Object.assign(Object.assign({},mt),l)}C.prototype.stop=function(){var s=this,l,d,m,E;return z(new vt(new st(function(P){if(s.g){for(l=s.g.getTracks(),d=q(l),m=d.next();!m.done;m=d.next())E=m.value,E.stop();s.g=void 0}P.j=0})))},C.prototype.start=function(){var s=this,l;return z(new vt(new st(function(d){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),l=s.h,d.return(navigator.mediaDevices.getUserMedia({video:{facingMode:l.facingMode,width:l.width,height:l.height}}).then(function(m){Gt(s,m)}).catch(function(m){var E="Failed to acquire camera feed: "+m;throw console.error(E),alert(E),m}))})))};function wt(s){window.requestAnimationFrame(function(){bt(s)})}function Gt(s,l){s.g=l,s.video.srcObject=l,s.video.onloadedmetadata=function(){s.video.play(),wt(s)}}function bt(s){var l=null;s.video.paused||s.video.currentTime===s.i||(s.i=s.video.currentTime,l=s.h.onFrame()),l?l.then(function(){wt(s)}):wt(s)}var J=["Camera"],V=yt;J[0]in V||typeof V.execScript=="undefined"||V.execScript("var "+J[0]);for(var tt;J.length&&(tt=J.shift());)J.length||C===void 0?V[tt]&&V[tt]!==Object.prototype[tt]?V=V[tt]:V=V[tt]={}:V[tt]=C}).call(at);const Qt={handSphers:[]},Pn=A=>{const _=document.querySelector("a-scene"),L=document.createElement("a-sphere");for(const U in A)L.setAttribute(U,A[U]);return _.appendChild(L),L},Mn=A=>{A.forEach(_=>{const L=Pn({position:{x:_.x,y:_.y,z:_.z},radius:.04,color:"#000"});Qt.handSphers.push(L)})};function Ln(A){const _=document.getElementsByClassName("output_canvas")[0],L=_.getContext("2d");if(L.save(),L.clearRect(0,0,_.width,_.height),L.drawImage(A.image,0,0,_.width,_.height),A.multiHandLandmarks)for(const U of A.multiHandLandmarks)Qt.handSphers.length<=0&&Mn(U),Qt.handSphers.forEach((S,F)=>{S.setAttribute("position",{x:U[F].x*-3+1,y:U[F].y*-3+2,z:U[F].z*-1-3})});L.restore()}const kn=()=>{const A=document.getElementsByClassName("input_video")[0],_=new Rn.Hands({locateFile:U=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${U}`});_.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),_.onResults(Ln),new Un.Camera(A,{onFrame:async()=>{await _.send({image:A})},width:1280,height:720}).start()};window.onload=kn;
